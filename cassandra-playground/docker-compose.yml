services:
  cassandra:
    image: cassandra:4.1
    container_name: cassandra-playground
    ports:
      - "9042:9042"
    environment:
      CASSANDRA_CLUSTER_NAME: "PlaygroundCluster"
      MAX_HEAP_SIZE: "512M"
      HEAP_NEWSIZE: "100M"
    healthcheck:
      test: ["CMD-SHELL", "cqlsh -e 'DESCRIBE KEYSPACES'"]
      interval: 10s
      timeout: 5s
      retries: 12
